<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Padaria Premium Dashboard</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700;900&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Work Sans", "sans-serif"],
            },
            colors: {
              brand: {
                DEFAULT: "#ec7f13",
                dark: "#d67311",
                light: "#fdf2e7",
              },
              coffee: {
                DEFAULT: "#3E2723",
                light: "#5D4037",
              },
              cream: "#fcfaf8",
              paper: "#f3ede7",
            },
          },
        },
      };
    </script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Charts -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <style>
      body {
        font-family: "Work Sans", sans-serif;
        background-color: #fcfaf8;
        color: #3e2723;
      }
      /* Custom scrollbar for a premium feel */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f3ede7;
      }
      ::-webkit-scrollbar-thumb {
        background: #ec7f13;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #d67311;
      }

      .card-hover {
        transition:
          transform 0.3s ease,
          box-shadow 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-4px);
        box-shadow:
          0 10px 25px -5px rgba(62, 39, 35, 0.1),
          0 8px 10px -6px rgba(62, 39, 35, 0.1);
      }

      /* Animation classes */
      .fade-in {
        animation: fadeIn 0.8s ease-out forwards;
        opacity: 0;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body
    class="min-h-screen relative overflow-x-hidden selection:bg-brand selection:text-white"
  >
    <!-- Header -->
    <header
      class="flex items-center justify-between px-6 py-4 bg-white/80 backdrop-blur-md border-b border-paper sticky top-0 z-50"
    >
      <div class="flex items-center gap-8">
        <div class="flex items-center gap-3 text-brand">
          <div
            class="p-2 bg-brand text-white rounded-lg shadow-lg shadow-brand/30"
          >
            <i data-lucide="layout-dashboard" class="w-6 h-6"></i>
          </div>
          <h2 class="text-coffee text-xl font-bold tracking-tight">
            Padaria Premium
          </h2>
        </div>
        <nav class="hidden md:flex items-center gap-1">
          <a
            class="px-4 py-2 text-brand text-sm font-semibold rounded-lg bg-brand/10 transition-colors"
            href="#"
            >Visão Geral</a
          >
          <a
            class="px-4 py-2 text-coffee/70 text-sm font-medium rounded-lg hover:text-brand hover:bg-paper transition-all"
            href="#"
            >Vendas</a
          >
          <a
            class="px-4 py-2 text-coffee/70 text-sm font-medium rounded-lg hover:text-brand hover:bg-paper transition-all"
            href="#"
            >Estoque</a
          >
          <a
            class="px-4 py-2 text-coffee/70 text-sm font-medium rounded-lg hover:text-brand hover:bg-paper transition-all"
            href="#"
            >Produção</a
          >
        </nav>
      </div>

      <div class="flex items-center gap-6">
        <div class="relative hidden lg:block group">
          <i
            data-lucide="search"
            class="absolute left-3 top-1/2 -translate-y-1/2 text-brand w-4 h-4 group-focus-within:scale-110 transition-transform"
          ></i>
          <input
            class="w-72 rounded-xl border border-transparent bg-paper pl-10 pr-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-brand/50 focus:bg-white transition-all placeholder:text-coffee/40"
            placeholder="Buscar relatórios..."
          />
        </div>

        <div class="flex items-center gap-3 border-l border-paper pl-6">
          <div class="text-right hidden sm:block">
            <p class="text-xs font-bold text-coffee">Admin Padaria</p>
            <p class="text-[10px] text-brand font-bold uppercase tracking-wide">
              Gerente de Unidade
            </p>
          </div>
          <div class="relative cursor-pointer">
            <img
              src="https://picsum.photos/seed/bakery-manager/100/100"
              class="size-11 rounded-full border-2 border-brand object-cover shadow-md"
              alt="Manager"
            />
            <div
              class="absolute bottom-0 right-0 size-3 bg-green-500 border-2 border-white rounded-full"
            ></div>
          </div>
          <i
            data-lucide="chevron-down"
            class="w-4 h-4 text-coffee/40 cursor-pointer hover:text-coffee transition-colors"
          ></i>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-10 space-y-10">
      <!-- Page Heading -->
      <div
        class="flex flex-wrap justify-between items-end gap-4 fade-in"
        style="animation-delay: 0.1s"
      >
        <div class="flex flex-col gap-2">
          <h1
            class="text-coffee text-4xl md:text-5xl font-black leading-tight tracking-tight"
          >
            Indicadores de Performance
          </h1>
          <div
            class="flex items-center gap-2 text-brand/80 text-base font-medium"
          >
            <span
              class="w-2 h-2 rounded-full bg-green-500 animate-pulse"
            ></span>
            <p>
              Acompanhamento em tempo real • <span id="current-date"></span>
            </p>
          </div>
        </div>
        <div class="flex gap-3">
          <button
            class="flex items-center gap-2 rounded-xl h-11 px-5 bg-white border border-paper text-coffee text-sm font-bold transition-all hover:bg-paper hover:border-brand/30 hover:shadow-lg active:scale-95"
          >
            <i data-lucide="calendar" class="w-4 h-4"></i>
            <span>Hoje</span>
          </button>
          <button
            class="flex items-center gap-2 rounded-xl h-11 px-6 bg-brand text-white text-sm font-bold transition-all hover:bg-brand-dark shadow-lg shadow-brand/25 hover:shadow-brand/40 hover:-translate-y-0.5 active:scale-95"
          >
            <i data-lucide="download" class="w-4 h-4"></i>
            <span>Exportar PDF</span>
          </button>
        </div>
      </div>

      <!-- Top KPIs -->
      <div
        class="grid grid-cols-1 md:grid-cols-3 gap-6 fade-in"
        style="animation-delay: 0.2s"
      >
        <!-- KPI 1: Ticket Médio -->
        <div
          class="card-hover flex flex-col gap-4 rounded-2xl p-6 bg-white border border-paper shadow-sm group"
        >
          <div class="flex items-center justify-between">
            <p
              class="text-coffee/60 text-xs font-bold uppercase tracking-wider"
            >
              Ticket Médio
            </p>
            <div
              class="bg-brand/10 p-2.5 rounded-xl text-brand group-hover:scale-110 transition-transform duration-300"
            >
              <i data-lucide="receipt" class="w-5 h-5"></i>
            </div>
          </div>
          <div class="flex items-baseline gap-3">
            <p
              class="text-coffee text-4xl font-black tracking-tight"
              id="ticket-value"
            >
              R$ 0,00
            </p>
            <div
              class="flex items-center gap-1 text-sm font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded-full"
            >
              <i data-lucide="arrow-up-right" class="w-3 h-3"></i>
              <span>5.2%</span>
            </div>
          </div>
          <div class="w-full bg-paper h-2 rounded-full overflow-hidden mt-1">
            <div
              class="h-full bg-brand rounded-full transition-all duration-1000 ease-out"
              style="width: 0%"
              id="ticket-progress"
            ></div>
          </div>
        </div>

        <!-- KPI 2: Faturamento Total -->
        <div
          class="card-hover flex flex-col gap-4 rounded-2xl p-6 bg-white border border-paper shadow-sm group relative overflow-hidden"
        >
          <!-- Glossy effect -->
          <div
            class="absolute -top-10 -right-10 w-32 h-32 bg-green-500/5 rounded-full blur-3xl group-hover:bg-green-500/10 transition-colors"
          ></div>

          <div class="flex items-center justify-between relative z-10">
            <p
              class="text-coffee/60 text-xs font-bold uppercase tracking-wider"
            >
              Faturamento Total
            </p>
            <div
              class="bg-green-100 p-2.5 rounded-xl text-green-600 group-hover:scale-110 transition-transform duration-300"
            >
              <i data-lucide="wallet" class="w-5 h-5"></i>
            </div>
          </div>
          <div class="flex items-baseline gap-3 relative z-10">
            <p
              class="text-coffee text-4xl font-black tracking-tight"
              id="revenue-value"
            >
              R$ 0,00
            </p>
            <div
              class="flex items-center gap-1 text-sm font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded-full"
            >
              <i data-lucide="arrow-up-right" class="w-3 h-3"></i>
              <span>12.8%</span>
            </div>
          </div>
          <div
            class="w-full bg-paper h-2 rounded-full overflow-hidden mt-1 relative z-10"
          >
            <div
              class="h-full bg-green-600 rounded-full transition-all duration-1000 ease-out"
              style="width: 0%"
              id="revenue-progress"
            ></div>
          </div>
        </div>

        <!-- KPI 3: Volume de Pedidos -->
        <div
          class="card-hover flex flex-col gap-4 rounded-2xl p-6 bg-white border border-paper shadow-sm group"
        >
          <div class="flex items-center justify-between">
            <p
              class="text-coffee/60 text-xs font-bold uppercase tracking-wider"
            >
              Volume de Pedidos
            </p>
            <div
              class="bg-red-100 p-2.5 rounded-xl text-red-600 group-hover:scale-110 transition-transform duration-300"
            >
              <i data-lucide="shopping-basket" class="w-5 h-5"></i>
            </div>
          </div>
          <div class="flex items-baseline gap-3">
            <p
              class="text-coffee text-4xl font-black tracking-tight"
              id="orders-value"
            >
              0
            </p>
            <div
              class="flex items-center gap-1 text-sm font-bold text-red-600 bg-red-50 px-2 py-0.5 rounded-full"
            >
              <i data-lucide="arrow-down-right" class="w-3 h-3"></i>
              <span>2.1%</span>
            </div>
          </div>
          <div class="w-full bg-paper h-2 rounded-full overflow-hidden mt-1">
            <div
              class="h-full bg-red-600 rounded-full transition-all duration-1000 ease-out"
              style="width: 0%"
              id="orders-progress"
            ></div>
          </div>
        </div>
      </div>

      <!-- Charts & Lists -->
      <div
        class="grid grid-cols-1 lg:grid-cols-3 gap-8 fade-in"
        style="animation-delay: 0.3s"
      >
        <!-- Chart Section -->
        <div
          class="lg:col-span-2 flex flex-col gap-6 rounded-2xl p-6 md:p-8 bg-white border border-paper shadow-sm"
        >
          <div
            class="flex flex-col sm:flex-row sm:items-center justify-between gap-4"
          >
            <div>
              <h3 class="text-coffee text-xl font-bold flex items-center gap-2">
                Picos de Vendas
                <span
                  class="text-xs bg-brand/10 text-brand px-2 py-1 rounded-md uppercase tracking-wider"
                  >Ao Vivo</span
                >
              </h3>
              <p class="text-sm text-coffee/60 mt-1">
                Fluxo de faturamento entre 06:00 e 21:00
              </p>
            </div>
            <div class="text-right pl-4 border-l-2 border-brand/20">
              <p class="text-brand font-black text-xl" id="peak-hour-value">
                --:--
              </p>
              <p
                class="text-[10px] text-coffee/40 uppercase font-black tracking-wide"
              >
                Horário de Pico
              </p>
            </div>
          </div>

          <div id="sales-chart" class="w-full h-[320px] -ml-2"></div>
        </div>

        <!-- Product List -->
        <div
          class="flex flex-col gap-6 rounded-2xl p-6 md:p-8 bg-white border border-paper shadow-sm"
        >
          <div class="flex items-center justify-between">
            <div>
              <h3 class="text-coffee text-xl font-bold">Curva ABC</h3>
              <p
                class="text-xs text-coffee/60 mt-1 uppercase font-bold tracking-wider"
              >
                Produtos Top Receita
              </p>
            </div>
            <button
              class="text-brand text-xs font-bold hover:underline hover:text-brand-dark transition-colors"
            >
              Ver tudo
            </button>
          </div>

          <div class="flex flex-col gap-3" id="product-list">
            <!-- Products injected by JS -->
          </div>
        </div>
      </div>

      <!-- Footer Widgets -->
      <div
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 fade-in"
        style="animation-delay: 0.4s"
      >
        <!-- Widget 1 -->
        <div
          class="p-5 rounded-2xl bg-white border border-paper flex items-center gap-4 shadow-sm hover:shadow-md transition-all cursor-default group"
        >
          <div
            class="bg-red-50 p-3.5 rounded-full text-red-500 group-hover:scale-110 transition-transform"
          >
            <i data-lucide="alert-triangle" class="w-5 h-5"></i>
          </div>
          <div>
            <p
              class="text-[10px] font-bold text-coffee/50 uppercase tracking-tighter"
            >
              Estoque Crítico
            </p>
            <p class="text-sm font-bold text-coffee mt-0.5">
              Farinha Tipo 1 (12kg)
            </p>
          </div>
        </div>

        <!-- Widget 2 -->
        <div
          class="p-5 rounded-2xl bg-white border border-paper flex items-center gap-4 shadow-sm hover:shadow-md transition-all cursor-default group"
        >
          <div
            class="bg-orange-50 p-3.5 rounded-full text-orange-500 group-hover:scale-110 transition-transform"
          >
            <i data-lucide="flame" class="w-5 h-5"></i>
          </div>
          <div>
            <p
              class="text-[10px] font-bold text-coffee/50 uppercase tracking-tighter"
            >
              Próxima Fornada
            </p>
            <p class="text-sm font-bold text-coffee mt-0.5">
              Pão de Queijo - 15:30
            </p>
          </div>
        </div>

        <!-- Widget 3 -->
        <div
          class="p-5 rounded-2xl bg-white border border-paper flex items-center gap-4 shadow-sm hover:shadow-md transition-all cursor-default group"
        >
          <div
            class="bg-blue-50 p-3.5 rounded-full text-blue-500 group-hover:scale-110 transition-transform"
          >
            <i data-lucide="users" class="w-5 h-5"></i>
          </div>
          <div>
            <p
              class="text-[10px] font-bold text-coffee/50 uppercase tracking-tighter"
            >
              Atendentes ON
            </p>
            <p class="text-sm font-bold text-coffee mt-0.5">4 Colaboradores</p>
          </div>
        </div>

        <!-- Widget 4 -->
        <div
          class="p-5 rounded-2xl bg-white border border-paper flex items-center gap-4 shadow-sm hover:shadow-md transition-all cursor-default group"
        >
          <div
            class="bg-yellow-50 p-3.5 rounded-full text-yellow-500 group-hover:scale-110 transition-transform"
          >
            <i data-lucide="star" class="w-5 h-5"></i>
          </div>
          <div>
            <p
              class="text-[10px] font-bold text-coffee/50 uppercase tracking-tighter"
            >
              Satisfação Hoje
            </p>
            <p class="text-sm font-bold text-coffee mt-0.5">4.8 / 5.0</p>
          </div>
        </div>
      </div>
    </main>

    <!-- Decorative Element -->
    <div
      class="fixed bottom-0 right-0 p-8 pointer-events-none opacity-[0.03] scale-150 transform translate-x-1/4 translate-y-1/4 z-0"
    >
      <i data-lucide="receipt" class="w-[400px] h-[400px] text-coffee"></i>
    </div>

    <!-- Script Area -->
    <script>
      // --- DATA ---
      const HOURLY_DATA = [
        { hour: "06h", value: 249551.02 },
        { hour: "07h", value: 363902.88 },
        { hour: "08h", value: 317076.57 },
        { hour: "09h", value: 277673.95 },
        { hour: "10h", value: 220250.05 },
        { hour: "11h", value: 158549.75 },
        { hour: "12h", value: 106869.01 },
        { hour: "13h", value: 121428.31 },
        { hour: "14h", value: 168819.42 },
        { hour: "15h", value: 198525.91 },
        { hour: "16h", value: 319658.62 },
        { hour: "17h", value: 405701.27 },
        { hour: "18h", value: 396950.91 },
        { hour: "19h", value: 217732.62 },
        { hour: "20h", value: 42195.51 },
        { hour: "21h", value: 321.1 },
      ];

      const TOP_PRODUCTS = [
        {
          name: "Pão Francês KG",
          value: 336430.39,
          category: "Classe A",
          salesCount: "324k unid.",
          icon: "croissant",
        },
        {
          name: "Coxinha Frango Catupiry",
          value: 298242.0,
          category: "Classe A",
          salesCount: "298k unid.",
          icon: "coffee",
        },
        {
          name: "Salgadinhos KG",
          value: 278787.16,
          category: "Classe B",
          salesCount: "278k unid.",
          icon: "cake-slice",
        },
        {
          name: "Mini Salgado Simples",
          value: 235345.16,
          category: "Classe B",
          salesCount: "235k unid.",
          icon: "cookie",
        },
      ];

      const GENERAL_TICKET = 24.93;

      // --- UTILS ---
      const formatCurrency = (val) =>
        new Intl.NumberFormat("pt-BR", {
          style: "currency",
          currency: "BRL",
        }).format(val);
      const formatNumber = (val) => new Intl.NumberFormat("pt-BR").format(val);

      // --- RENDER LOGIC ---
      document.addEventListener("DOMContentLoaded", () => {
        // 1. Initialize Icons
        lucide.createIcons();

        // 2. Set Date
        const dateOptions = { weekday: "long", day: "numeric", month: "long" };
        const today = new Date().toLocaleDateString("pt-BR", dateOptions);
        document.getElementById("current-date").textContent =
          today.charAt(0).toUpperCase() + today.slice(1);

        // 3. Calculate Stats
        const totalRevenue = HOURLY_DATA.reduce(
          (acc, curr) => acc + curr.value,
          0,
        );
        const estimatedOrders = Math.floor(totalRevenue / GENERAL_TICKET);

        // 4. Update KPI DOM
        document.getElementById("ticket-value").textContent =
          formatCurrency(GENERAL_TICKET);
        document.getElementById("revenue-value").textContent =
          formatCurrency(totalRevenue).split(",")[0]; // Matches original design style
        document.getElementById("orders-value").textContent =
          formatNumber(estimatedOrders);

        // Animate Progress Bars
        setTimeout(() => {
          document.getElementById("ticket-progress").style.width = "65%";
          document.getElementById("revenue-progress").style.width = "82%";
          document.getElementById("orders-progress").style.width = "45%";
        }, 500);

        // 5. Render Chart (ApexCharts)
        const peak = [...HOURLY_DATA].sort((a, b) => b.value - a.value)[0];
        document.getElementById("peak-hour-value").textContent =
          `Pico às ${peak.hour}`;

        const chartOptions = {
          chart: {
            type: "area",
            height: 320,
            toolbar: { show: false },
            fontFamily: "Work Sans, sans-serif",
          },
          series: [
            {
              name: "Faturamento",
              data: HOURLY_DATA.map((d) => d.value),
            },
          ],
          xaxis: {
            categories: HOURLY_DATA.map((d) => d.hour),
            axisBorder: { show: false },
            axisTicks: { show: false },
            labels: {
              style: {
                colors: "#3E2723",
                fontSize: "11px",
                fontWeight: 600,
                fontFamily: "Work Sans",
              },
            },
          },
          yaxis: {
            show: false,
          },
          dataLabels: { enabled: false },
          stroke: {
            curve: "smooth",
            width: 3,
            colors: ["#ec7f13"],
          },
          fill: {
            type: "gradient",
            gradient: {
              shadeIntensity: 1,
              opacityFrom: 0.4,
              opacityTo: 0.0,
              stops: [0, 90, 100],
              colorStops: [
                { offset: 0, color: "#ec7f13", opacity: 0.2 },
                { offset: 100, color: "#ec7f13", opacity: 0 },
              ],
            },
          },
          grid: {
            show: true,
            borderColor: "#f3ede7",
            strokeDashArray: 4,
            xaxis: { lines: { show: false } },
            yaxis: { lines: { show: true } },
            padding: { top: 0, right: 0, bottom: 0, left: 10 },
          },
          tooltip: {
            theme: "light",
            y: { formatter: (val) => `R$ ${val.toLocaleString("pt-BR")}` },
            style: { fontSize: "12px" },
          },
        };

        const chart = new ApexCharts(
          document.querySelector("#sales-chart"),
          chartOptions,
        );
        chart.render();

        // 6. Render Product List
        const productListEl = document.getElementById("product-list");
        TOP_PRODUCTS.forEach((product) => {
          const isClassA = product.category === "Classe A";

          // Construct HTML string
          const html = `
                    <div class="group flex items-center gap-4 p-3 rounded-xl hover:bg-paper/50 transition-all cursor-pointer border border-transparent hover:border-paper hover:shadow-sm">
                        <div class="size-12 rounded-xl bg-brand/10 flex items-center justify-center text-brand group-hover:bg-brand group-hover:text-white transition-colors duration-300">
                            <i data-lucide="${product.icon}" class="w-6 h-6"></i>
                        </div>
                        <div class="flex-1 overflow-hidden">
                            <p class="font-bold text-coffee truncate text-base">${product.name}</p>
                            <p class="text-xs text-coffee/60 font-medium">${product.salesCount}</p>
                        </div>
                        <div class="text-right">
                            <p class="font-bold text-brand whitespace-nowrap text-base">${formatCurrency(product.value).split(",")[0]}</p>
                            <div class="text-[10px] px-2 py-1 rounded-md font-bold uppercase tracking-wider inline-block mt-1
                                ${isClassA ? "bg-green-100/80 text-green-700" : "bg-orange-100/80 text-orange-800"}">
                                ${product.category}
                            </div>
                        </div>
                    </div>
                `;

          productListEl.insertAdjacentHTML("beforeend", html);
        });

        // Re-run icons for newly added elements
        lucide.createIcons();
      });
    </script>
  </body>
</html>
